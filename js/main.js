!function(e){var t={};function a(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(o,i,function(t){return e[t]}.bind(null,i));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=6)}([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";function o(e){try{if(!e)throw"error: routes param is mandatory";this.constructor(e),this.init()}catch(e){console.error(e)}}a.r(t),o.prototype={routes:void 0,rootElem:void 0,constructor(e){this.routes=e,this.rootElem=document.getElementById("app")},init(){const e=this.routes;!function(e,t){window.addEventListener("hashchange",a=>{e.hasChanged(e,t)})}(this,e),this.hasChanged(this,e)},hasChanged(e,t){if(window.location.hash.length>0)for(var a=0,{length:o}=t;a<o;a++){(i=t[a]).isActiveRoute(window.location.hash.substr(1))&&e.goToRoute(i.htmlName)}else{a=0;for(var{length:o}=t;a<o;a++){var i;(i=t[a]).default&&e.goToRoute(i.htmlName)}}},goToRoute(e,t){!function(a){const o=`views/${e}`,i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&(a.rootElem.innerHTML=this.responseText)},i.open("GET",o,!0),i.send(),i.onload=function(e){4===i.readyState&&200===i.status&&"function"==typeof t&&t()}}(this)}};var i=o;function n(e,t,a){try{if(!e||!t)throw"error: name and htmlName params are mandatories";this.constructor(e,t,a)}catch(e){console.error(e)}}n.prototype={name:void 0,htmlName:void 0,default:void 0,constructor(e,t,a){this.name=e,this.htmlName=t,this.default=a},isActiveRoute(e){return e.replace("#","")===this.name}};var s=n;a(0);var d={set(e,t){localStorage.setItem(e,t)},get:e=>localStorage.getItem(e)?localStorage.getItem(e):null,setObject(e,t){localStorage.setItem(e,JSON.stringify(t))},getObject:e=>JSON.parse(localStorage.getItem(e))?JSON.parse(localStorage.getItem(e)):null,remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}};var c={app:{id:1139053,hash:"460fe61f384ea26d9baf5846273f4338",version:"1.0.0"},server:{test:[{id:1,host:"149.154.175.10",port:80},{id:2,host:"149.154.167.40",port:443},{id:3,host:"149.154.175.117",port:80}],production:[{id:1,host:"149.154.175.50",port:80},{id:2,host:"149.154.167.50",port:80},{id:3,host:"149.154.175.100",port:80},{id:4,host:"1149.154.167.50",port:80},{id:5,host:"149.154.171.5",port:80}],https:[{id:1,host:"pluto.web.telegram.org",port:80},{id:2,host:"venus.web.telegram.org",port:80},{id:3,host:"aurora.web.telegram.org",port:80},{id:4,host:"vesta.web.telegram.org",port:80},{id:5,host:"flora.web.telegram.org",port:80}]}};const m=e=>+e<10?`0${e}`:e,r=e=>{const t=new Date(1e3*e);return`${m(t.getHours())}:${m(t.getMinutes())}`};function l(e){const t=new Date(1e3*e),a=new Date;let o="";if(a-t<864e5)o=r(e);else if(a-t<6048e5){o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]}else{const e=m(t.getMonth()+1);o=`${m(t.getDate())}.${e}.${`${t.getFullYear()}`.replace("20","")}`}return o}function h(e,t){const a=e.split(" ");let o=0;return a.forEach(e=>{e===t&&o++}),0===o&&a.push(t),a.join(" ")}function u(e,t){return e.split(" ").map(e=>e===t?"":e).join(" ")}const g=[{name:"Afghanistan",dial_code:"+93",code:"AF",emoji:"🇦🇫"},{name:"Aland Islands",dial_code:"+358",code:"AX",emoji:"🇦🇽"},{name:"Albania",dial_code:"+355",code:"AL",emoji:"🇦🇱"},{name:"Algeria",dial_code:"+213",code:"DZ",emoji:"🇩🇿"},{name:"American Samoa",dial_code:"+1 684",code:"AS",emoji:"🇦🇸"},{name:"Andorra",dial_code:"+376",code:"AD",emoji:"🇦🇩"},{name:"Angola",dial_code:"+244",code:"AO",emoji:"🇦🇴"},{name:"Anguilla",dial_code:"+1 264",code:"AI",emoji:"🇦🇮"},{name:"Antarctica",dial_code:"+672",code:"AQ",emoji:"🇦🇶"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",emoji:"🇦🇬"},{name:"Argentina",dial_code:"+54",code:"AR",emoji:"🇦🇷"},{name:"Armenia",dial_code:"+374",code:"AM",emoji:"🇦🇲"},{name:"Aruba",dial_code:"+297",code:"AW",emoji:"🇦🇼"},{name:"Australia",dial_code:"+61",code:"AU",emoji:"🇦🇺"},{name:"Austria",dial_code:"+43",code:"AT",emoji:"🇦🇹"},{name:"Azerbaijan",dial_code:"+994",code:"AZ",emoji:"🇦🇿"},{name:"Bahamas",dial_code:"+1 242",code:"BS",emoji:"🇧🇸"},{name:"Bahrain",dial_code:"+973",code:"BH",emoji:"🇧🇭"},{name:"Bangladesh",dial_code:"+880",code:"BD",emoji:"🇧🇩"},{name:"Barbados",dial_code:"+1 246",code:"BB",emoji:"🇧🇧"},{name:"Belarus",dial_code:"+375",code:"BY",emoji:"🇧🇾"},{name:"Belgium",dial_code:"+32",code:"BE",emoji:"🇧🇪"},{name:"Belize",dial_code:"+501",code:"BZ",emoji:"🇧🇿"},{name:"Benin",dial_code:"+229",code:"BJ",emoji:"🇧🇯"},{name:"Bermuda",dial_code:"+1 441",code:"BM",emoji:"🇧🇲"},{name:"Bhutan",dial_code:"+975",code:"BT",emoji:"🇧🇹"},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO",emoji:"🇧🇴"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",emoji:"🇧🇦"},{name:"Botswana",dial_code:"+267",code:"BW",emoji:"🇧🇼"},{name:"Brazil",dial_code:"+55",code:"BR",emoji:"🇧🇷"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",emoji:"🇮🇴"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN",emoji:"🇧🇳"},{name:"Bulgaria",dial_code:"+359",code:"BG",emoji:"🇧🇬"},{name:"Burkina Faso",dial_code:"+226",code:"BF",emoji:"🇧🇫"},{name:"Burundi",dial_code:"+257",code:"BI",emoji:"🇧🇮"},{name:"Cambodia",dial_code:"+855",code:"KH",emoji:"🇰🇭"},{name:"Cameroon",dial_code:"+237",code:"CM",emoji:"🇨🇲"},{name:"Canada",dial_code:"+1",code:"CA",emoji:"🇨🇦"},{name:"Cape Verde",dial_code:"+238",code:"CV",emoji:"🇨🇻"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY",emoji:"🇰🇾"},{name:"Central African Republic",dial_code:"+236",code:"CF",emoji:"🇨🇫"},{name:"Chad",dial_code:"+235",code:"TD",emoji:"🇹🇩"},{name:"Chile",dial_code:"+56",code:"CL",emoji:"🇨🇱"},{name:"China",dial_code:"+86",code:"CN",emoji:"🇨🇳"},{name:"Christmas Island",dial_code:"+61",code:"CX",emoji:"🇨🇽"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",emoji:"🇨🇨"},{name:"Colombia",dial_code:"+57",code:"CO",emoji:"🇨🇴"},{name:"Comoros",dial_code:"+269",code:"KM",emoji:"🇰🇲"},{name:"Congo",dial_code:"+242",code:"CG",emoji:"🇨🇩"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD",emoji:"🇨🇬"},{name:"Cook Islands",dial_code:"+682",code:"CK",emoji:"🇨🇰"},{name:"Costa Rica",dial_code:"+506",code:"CR",emoji:"🇨🇷"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",emoji:"🇨🇮"},{name:"Croatia",dial_code:"+385",code:"HR",emoji:"🇭🇷"},{name:"Cuba",dial_code:"+53",code:"CU",emoji:"🇨🇺"},{name:"Cyprus",dial_code:"+357",code:"CY",emoji:"🇨🇾"},{name:"Czech Republic",dial_code:"+420",code:"CZ",emoji:"🇨🇿"},{name:"Denmark",dial_code:"+45",code:"DK",emoji:"🇩🇰"},{name:"Djibouti",dial_code:"+253",code:"DJ",emoji:"🇩🇯"},{name:"Dominica",dial_code:"+1 767",code:"DM",emoji:"🇩🇲"},{name:"Dominican Republic",dial_code:"+1 849",code:"DO",emoji:"🇩🇴"},{name:"Ecuador",dial_code:"+593",code:"EC",emoji:"🇪🇨"},{name:"Egypt",dial_code:"+20",code:"EG",emoji:"🇪🇬"},{name:"El Salvador",dial_code:"+503",code:"SV",emoji:"🇸🇻"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",emoji:"🇬🇶"},{name:"Eritrea",dial_code:"+291",code:"ER",emoji:"🇪🇷"},{name:"Estonia",dial_code:"+372",code:"EE",emoji:"🇪🇪"},{name:"Ethiopia",dial_code:"+251",code:"ET",emoji:"🇪🇹"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",emoji:"🇫🇰"},{name:"Faroe Islands",dial_code:"+298",code:"FO",emoji:"🇫🇴"},{name:"Fiji",dial_code:"+679",code:"FJ",emoji:"🇫🇯"},{name:"Finland",dial_code:"+358",code:"FI",emoji:"🇫🇮"},{name:"France",dial_code:"+33",code:"FR",emoji:"🇫🇷"},{name:"French Guiana",dial_code:"+594",code:"GF",emoji:"🇬🇫"},{name:"French Polynesia",dial_code:"+689",code:"PF",emoji:"🇵🇫"},{name:"Gabon",dial_code:"+241",code:"GA",emoji:"🇬🇦"},{name:"Gambia",dial_code:"+220",code:"GM",emoji:"🇬🇲"},{name:"Georgia",dial_code:"+995",code:"GE",emoji:"🇬🇪"},{name:"Germany",dial_code:"+49",code:"DE",emoji:"🇩🇪"},{name:"Ghana",dial_code:"+233",code:"GH",emoji:"🇬🇭"},{name:"Gibraltar",dial_code:"+350",code:"GI",emoji:"🇬🇮"},{name:"Greece",dial_code:"+30",code:"GR",emoji:"🇬🇷"},{name:"Greenland",dial_code:"+299",code:"GL",emoji:"🇬🇱"},{name:"Grenada",dial_code:"+1 473",code:"GD",emoji:"🇬🇩"},{name:"Guadeloupe",dial_code:"+590",code:"GP",emoji:"🇬🇵"},{name:"Guam",dial_code:"+1 671",code:"GU",emoji:"🇬🇺"},{name:"Guatemala",dial_code:"+502",code:"GT",emoji:"🇬🇹"},{name:"Guernsey",dial_code:"+44",code:"GG",emoji:"🇬🇬"},{name:"Guinea",dial_code:"+224",code:"GN",emoji:"🇬🇳"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW",emoji:"🇬🇼"},{name:"Guyana",dial_code:"+595",code:"GY",emoji:"🇬🇾"},{name:"Haiti",dial_code:"+509",code:"HT",emoji:"🇭🇹"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA",emoji:"🇻🇦"},{name:"Honduras",dial_code:"+504",code:"HN",emoji:"🇭🇳"},{name:"Hong Kong",dial_code:"+852",code:"HK",emoji:"🇭🇰"},{name:"Hungary",dial_code:"+36",code:"HU",emoji:"🇭🇺"},{name:"Iceland",dial_code:"+354",code:"IS",emoji:"🇮🇸"},{name:"India",dial_code:"+91",code:"IN",emoji:"🇮🇳"},{name:"Indonesia",dial_code:"+62",code:"ID",emoji:"🇮🇩"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR",emoji:"🇮🇷"},{name:"Iraq",dial_code:"+964",code:"IQ",emoji:"🇮🇶"},{name:"Ireland",dial_code:"+353",code:"IE",emoji:"🇮🇪"},{name:"Isle of Man",dial_code:"+44",code:"IM",emoji:"🇮🇲"},{name:"Israel",dial_code:"+972",code:"IL",emoji:"🇮🇱"},{name:"Italy",dial_code:"+39",code:"IT",emoji:"🇮🇹"},{name:"Jamaica",dial_code:"+1 876",code:"JM",emoji:"🇯🇲"},{name:"Japan",dial_code:"+81",code:"JP",emoji:"🇯🇵"},{name:"Jersey",dial_code:"+44",code:"JE",emoji:"🇯🇪"},{name:"Jordan",dial_code:"+962",code:"JO",emoji:"🇯🇴"},{name:"Kazakhstan",dial_code:"+7 7",code:"KZ",emoji:"🇰🇿"},{name:"Kenya",dial_code:"+254",code:"KE",emoji:"🇰🇪"},{name:"Kiribati",dial_code:"+686",code:"KI",emoji:"🇰🇮"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP",emoji:"🇰🇵"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR",emoji:"🇰🇷"},{name:"Kuwait",dial_code:"+965",code:"KW",emoji:"🇰🇼"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG",emoji:"🇰🇬"},{name:"Laos",dial_code:"+856",code:"LA",emoji:"🇱🇦"},{name:"Latvia",dial_code:"+371",code:"LV",emoji:"🇱🇻"},{name:"Lebanon",dial_code:"+961",code:"LB",emoji:"🇱🇧"},{name:"Lesotho",dial_code:"+266",code:"LS",emoji:"🇱🇸"},{name:"Liberia",dial_code:"+231",code:"LR",emoji:"🇱🇷"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",emoji:"🇱🇾"},{name:"Liechtenstein",dial_code:"+423",code:"LI",emoji:"🇱🇮"},{name:"Lithuania",dial_code:"+370",code:"LT",emoji:"🇱🇹"},{name:"Luxembourg",dial_code:"+352",code:"LU",emoji:"🇱🇺"},{name:"Macao",dial_code:"+853",code:"MO",emoji:"🇲🇴"},{name:"Macedonia",dial_code:"+389",code:"MK",emoji:"🇲🇰"},{name:"Madagascar",dial_code:"+261",code:"MG",emoji:"🇲🇬"},{name:"Malawi",dial_code:"+265",code:"MW",emoji:"🇲🇼"},{name:"Malaysia",dial_code:"+60",code:"MY",emoji:"🇲🇾"},{name:"Maldives",dial_code:"+960",code:"MV",emoji:"🇲🇻"},{name:"Mali",dial_code:"+223",code:"ML",emoji:"🇲🇱"},{name:"Malta",dial_code:"+356",code:"MT",emoji:"🇲🇹"},{name:"Marshall Islands",dial_code:"+692",code:"MH",emoji:"🇲🇭"},{name:"Martinique",dial_code:"+596",code:"MQ",emoji:"🇲🇶"},{name:"Mauritania",dial_code:"+222",code:"MR",emoji:"🇲🇷"},{name:"Mauritius",dial_code:"+230",code:"MU",emoji:"🇲🇺"},{name:"Mayotte",dial_code:"+262",code:"YT",emoji:"🇾🇹"},{name:"Mexico",dial_code:"+52",code:"MX",emoji:"🇲🇽"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM",emoji:"🇫🇲"},{name:"Moldova",dial_code:"+373",code:"MD",emoji:"🇲🇩"},{name:"Monaco",dial_code:"+377",code:"MC",emoji:"🇲🇨"},{name:"Mongolia",dial_code:"+976",code:"MN",emoji:"🇲🇳"},{name:"Montenegro",dial_code:"+382",code:"ME",emoji:"🇲🇪"},{name:"Montserrat",dial_code:"+1664",code:"MS",emoji:"🇲🇸"},{name:"Morocco",dial_code:"+212",code:"MA",emoji:"🇲🇦"},{name:"Mozambique",dial_code:"+258",code:"MZ",emoji:"🇲🇿"},{name:"Myanmar",dial_code:"+95",code:"MM",emoji:"🇲🇲"},{name:"Namibia",dial_code:"+264",code:"NA",emoji:"🇳🇦"},{name:"Nauru",dial_code:"+674",code:"NR",emoji:"🇳🇷"},{name:"Nepal",dial_code:"+977",code:"NP",emoji:"🇳🇵"},{name:"Netherlands",dial_code:"+31",code:"NL",emoji:"🇳🇱"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN",emoji:"🇧🇶"},{name:"New Caledonia",dial_code:"+687",code:"NC",emoji:"🇳🇨"},{name:"New Zealand",dial_code:"+64",code:"NZ",emoji:"🇳🇿"},{name:"Nicaragua",dial_code:"+505",code:"NI",emoji:"🇳🇮"},{name:"Niger",dial_code:"+227",code:"NE",emoji:"🇳🇪"},{name:"Nigeria",dial_code:"+234",code:"NG",emoji:"🇳🇬"},{name:"Niue",dial_code:"+683",code:"NU",emoji:"🇳🇺"},{name:"Norfolk Island",dial_code:"+672",code:"NF",emoji:"🇳🇫"},{name:"Northern Mariana Islands",dial_code:"+1 670",code:"MP",emoji:"🇲🇵"},{name:"Norway",dial_code:"+47",code:"NO",emoji:"🇳🇴"},{name:"Oman",dial_code:"+968",code:"OM",emoji:"🇴🇲"},{name:"Pakistan",dial_code:"+92",code:"PK",emoji:"🇵🇰"},{name:"Palau",dial_code:"+680",code:"PW",emoji:"🇵🇼"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",emoji:"🇵🇸"},{name:"Panama",dial_code:"+507",code:"PA",emoji:"🇵🇦"},{name:"Papua New Guinea",dial_code:"+675",code:"PG",emoji:"🇵🇬"},{name:"Paraguay",dial_code:"+595",code:"PY",emoji:"🇵🇾"},{name:"Peru",dial_code:"+51",code:"PE",emoji:"🇵🇪"},{name:"Philippines",dial_code:"+63",code:"PH",emoji:"🇵🇭"},{name:"Pitcairn",dial_code:"+872",code:"PN",emoji:"🇵🇳"},{name:"Poland",dial_code:"+48",code:"PL",emoji:"🇵🇱"},{name:"Portugal",dial_code:"+351",code:"PT",emoji:"🇵🇹"},{name:"Puerto Rico",dial_code:"+1 939",code:"PR",emoji:"🇵🇷"},{name:"Qatar",dial_code:"+974",code:"QA",emoji:"🇶🇦"},{name:"Romania",dial_code:"+40",code:"RO",emoji:"🇷🇴"},{name:"Russia",dial_code:"+7",code:"RU",emoji:"🇷🇺"},{name:"Rwanda",dial_code:"+250",code:"RW",emoji:"🇷🇼"},{name:"Reunion",dial_code:"+262",code:"RE",emoji:"🇷🇪"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL",emoji:"🇧🇱"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH",emoji:"🇸🇭"},{name:"Saint Kitts and Nevis",dial_code:"+1 869",code:"KN",emoji:"🇰🇳"},{name:"Saint Lucia",dial_code:"+1 758",code:"LC",emoji:"🇱🇨"},{name:"Saint Martin",dial_code:"+590",code:"MF",emoji:"🇲🇫"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",emoji:"🇵🇲"},{name:"Saint Vincent and the Grenadines",dial_code:"+1 784",code:"VC",emoji:"🇻🇨"},{name:"Samoa",dial_code:"+685",code:"WS",emoji:"🇼🇸"},{name:"San Marino",dial_code:"+378",code:"SM",emoji:"🇸🇲"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",emoji:"🇸🇹"},{name:"Saudi Arabia",dial_code:"+966",code:"SA",emoji:"🇸🇦"},{name:"Senegal",dial_code:"+221",code:"SN",emoji:"🇸🇳"},{name:"Serbia",dial_code:"+381",code:"RS",emoji:"🇷🇸"},{name:"Seychelles",dial_code:"+248",code:"SC",emoji:"🇸🇨"},{name:"Sierra Leone",dial_code:"+232",code:"SL",emoji:"🇸🇱"},{name:"Singapore",dial_code:"+65",code:"SG",emoji:"🇸🇬"},{name:"Slovakia",dial_code:"+421",code:"SK",emoji:"🇸🇰"},{name:"Slovenia",dial_code:"+386",code:"SI",emoji:"🇸🇮"},{name:"Solomon Islands",dial_code:"+677",code:"SB",emoji:"🇸🇧"},{name:"Somalia",dial_code:"+252",code:"SO",emoji:"🇸🇴"},{name:"South Africa",dial_code:"+27",code:"ZA",emoji:"🇿🇦"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS",emoji:"🇬🇸"},{name:"Spain",dial_code:"+34",code:"ES",emoji:"🇪🇸"},{name:"Sri Lanka",dial_code:"+94",code:"LK",emoji:"🇱🇰"},{name:"Sudan",dial_code:"+249",code:"SD",emoji:"🇸🇩"},{name:"Suriname",dial_code:"+597",code:"SR",emoji:"🇸🇷"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ",emoji:"🇸🇯"},{name:"Swaziland",dial_code:"+268",code:"SZ",emoji:"🇸🇿"},{name:"Sweden",dial_code:"+46",code:"SE",emoji:"🇸🇪"},{name:"Switzerland",dial_code:"+41",code:"CH",emoji:"🇨🇭"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",emoji:"🇸🇾"},{name:"Taiwan",dial_code:"+886",code:"TW",emoji:"🇹🇼"},{name:"Tajikistan",dial_code:"+992",code:"TJ",emoji:"🇹🇯"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ",emoji:"🇹🇿"},{name:"Thailand",dial_code:"+66",code:"TH",emoji:"🇹🇭"},{name:"Timor-Leste",dial_code:"+670",code:"TL",emoji:"🇹🇱"},{name:"Togo",dial_code:"+228",code:"TG",emoji:"🇹🇬"},{name:"Tokelau",dial_code:"+690",code:"TK",emoji:"🇹🇰"},{name:"Tonga",dial_code:"+676",code:"TO",emoji:"🇹🇴"},{name:"Trinidad and Tobago",dial_code:"+1 868",code:"TT",emoji:"🇹🇹"},{name:"Tunisia",dial_code:"+216",code:"TN",emoji:"🇹🇳"},{name:"Turkey",dial_code:"+90",code:"TR",emoji:"🇹🇷"},{name:"Turkmenistan",dial_code:"+993",code:"TM",emoji:"🇹🇲"},{name:"Turks and Caicos Islands",dial_code:"+1 649",code:"TC",emoji:"🇹🇨"},{name:"Tuvalu",dial_code:"+688",code:"TV",emoji:"🇹🇻"},{name:"Uganda",dial_code:"+256",code:"UG",emoji:"🇺🇬"},{name:"Ukraine",dial_code:"+380",code:"UA",emoji:"🇺🇦"},{name:"United Arab Emirates",dial_code:"+971",code:"AE",emoji:"🇦🇪"},{name:"United Kingdom",dial_code:"+44",code:"GB",emoji:"🇬🇧"},{name:"United States",dial_code:"+1",code:"US",emoji:"🇺🇸"},{name:"Uruguay",dial_code:"+598",code:"UY",emoji:"🇺🇾"},{name:"Uzbekistan",dial_code:"+998",code:"UZ",emoji:"🇺🇿"},{name:"Vanuatu",dial_code:"+678",code:"VU",emoji:"🇻🇺"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE",emoji:"🇻🇪"},{name:"Vietnam",dial_code:"+84",code:"VN",emoji:"🇻🇳"},{name:"Virgin Islands, British",dial_code:"+1 284",code:"VG",emoji:"🇻🇬"},{name:"Virgin Islands, U.S.",dial_code:"+1 340",code:"VI",emoji:"🇻🇮"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF",emoji:"🇼🇫"},{name:"Yemen",dial_code:"+967",code:"YE",emoji:"🇾🇪"},{name:"Zambia",dial_code:"+260",code:"ZM",emoji:"🇿🇲"},{name:"Zimbabwe",dial_code:"+263",code:"ZW",emoji:"🇿🇼"}];a(1);var _=class{constructor(){this.client=telegramApi,this.options={dcID:2,createNetworker:!0}}getCountry(){return this.client.invokeApi("help.getNearestDc",{},this.options)}sendCode(e){const t={flags:0,phone_number:e,api_id:c.app.id,api_hash:c.app.hash,lang_code:"en"};return this.client.invokeApi("auth.sendCode",t,this.options)}checkConfirmCode(e,t,a){return this.client.signIn(e,t,a)}getPasswordState(){return this.client.invokeApi("account.getPassword",{},this.options)}checkPassword(e,t){return this.client.checkPasswordHash(e,t)}};a(2);var p=class{constructor(e,t){this.api=new _,this.router=e,this.salt=t,this.showPassword=!1}sendPasswordCode(e,t){this.api.checkPassword(this.salt,e).then(e=>{console.log("this.api.checkPassword !!!!!!!!!!!",e),this.router.goToRoute("im.html",()=>{new C(this.router).render()})}).catch(e=>{console.error(e),t.className=h(t.className,"password__input_error")})}setLabel(e,t,a){e.length>0?(t.className=h(t.className,"password__input_active"),a.style.visibility="visible",a.style.opacity="0.5"):(t.className=u(t.className,"password__input_active"),a.style.opacity="0")}showPasswordCode(e,t,a){this.showPassword?(e.className="password__input-eye",t.className="password__img",a.type="password"):(e.className="password__input-eye password__input-eye_active",t.className="password__img password__img_show",a.type="text"),this.showPassword=!this.showPassword}render(){const e=document.getElementById("passwordInput"),t=document.getElementById("passwordEye"),a=document.getElementById("passwordImg"),o=document.getElementById("passwordCode"),i=document.getElementById("passwordButton");e.addEventListener("keyup",()=>this.setLabel(o.value,e,t)),i.addEventListener("click",()=>this.sendPasswordCode(o.value,e)),t.addEventListener("click",()=>this.showPasswordCode(t,a,o))}};a(3);var y=class{constructor(e,t,a,o){this.client=telegramApi,this.router=e,this.phoneNumber=t,this.phoneCodeHash=a,this.confirmCode=o,this.isReadyForSending=!0}onChangeName(e,t){e.length>0?t.className=h(t.className,"registration__input_active"):t.className=u(t.className,"registration__input_active")}sendData(e,t,a,o){this.isReadyForSending&&(e.innerText="Wait...",this.isReadyForSending=!1,setTimeout(()=>{this.isReadyForSending=!0,e.innerText="Start Messaging"},3e3),this.client.signUp(this.phoneNumber,this.phoneCodeHash,this.confirmCode,a.value,o.value).then(()=>{this.router.goToRoute("im.html",()=>{new C(this.router).render()})}).catch(e=>{console.error(e),t.className=h(t,"registration__input_error")}))}onFocusName(e,t){e.className=h(e.className,"registration__input_focused"),t.className=u(t.className,"registration__input_focused")}onFocusLastName(e,t){e.className=u(e.className,"registration__input_focused"),t.className=h(t.className,"registration__input_focused")}render(){const e=document.getElementById("registrationName"),t=document.getElementById("registrationNameInput"),a=document.getElementById("registrationLastName"),o=document.getElementById("registrationLastNameInput"),i=document.getElementById("registrationSendButton");t.addEventListener("keyup",()=>this.onChangeName(t.value,e)),o.addEventListener("keyup",()=>this.onChangeName(o.value,a)),i.addEventListener("click",()=>this.sendData(i,e,t,o)),e.addEventListener("focusin",()=>this.onFocusName(e,a)),a.addEventListener("focusin",()=>this.onFocusLastName(e,a))}};a(4);var v=class{constructor(e,t,a){this.router=e,this.phoneNumber=t,this.phoneCodeHash=a,this.api=new _,this.state={confirmPhone:"",confirmCodeInput:""}}sendConfirmCode(e){e.length>0?this.state.confirmCodeInput.className=h(this.state.confirmCodeInput.className,"confirm__input_active"):this.state.confirmCodeInput.className=u(this.state.confirmCodeInput.className,"confirm__input_active"),5===e.length&&this.api.checkConfirmCode(this.phoneNumber,this.phoneCodeHash,e).then(()=>{this.router.goToRoute("im.html",()=>{new C(this.router).render()})}).catch(t=>{"SESSION_PASSWORD_NEEDED"===t.type?this.api.getPasswordState().then(e=>{this.router.goToRoute("password.html",()=>{new p(this.router,e.current_salt).render()})}):"PHONE_NUMBER_UNOCCUPIED"===t.type?this.router.goToRoute("registration.html",()=>{new y(this.router,this.phoneNumber,this.phoneCodeHash,e).render()}):(console.error(t),420!==t.code&&(this.state.confirmCodeInput.className=h(this.state.confirmCodeInput.className,"confirm__input_error")))})}sendCodeForNewPhone(e){this.state.confirmPhone.style.color="#000000",e!==this.phoneNumber&&this.api.sendCode(e).then(t=>{this.phoneNumber=e,this.phoneCodeHash=t.phone_code_hash}).catch(e=>{console.error(e),this.state.confirmPhone.style.color="#E53834"})}changeEventPressEnter(e){13===e.keyCode&&(this.state.confirmPhone.disabled=!0,this.sendCodeForNewPhone(this.state.confirmPhone.value)),this.state.confirmPhone.value.length>4&&(this.state.confirmPhone.style.width=`${20*this.state.confirmPhone.value.length}px`)}changeEventFocuOut(){this.state.confirmPhone.disabled=!0,this.sendCodeForNewPhone(this.state.confirmPhone.value)}changePhoneNumber(){this.state.confirmPhone.disabled=!1,this.state.confirmPhone.focus(),this.state.confirmPhone.selectionStart=this.state.confirmPhone.value.length,this.state.confirmPhone.addEventListener("focusout",()=>this.changeEventFocuOut()),this.state.confirmPhone.addEventListener("keyup",e=>this.changeEventPressEnter(e))}render(){this.state.confirmPhone=document.getElementById("confirmPhone"),this.state.confirmCodeInput=document.getElementById("confirmInput");const e=document.getElementById("confirmCode");document.getElementById("editPhoneNumber").addEventListener("click",()=>this.changePhoneNumber()),this.state.confirmPhone.value=this.phoneNumber,this.state.confirmPhone.style.width=`${20*this.state.confirmPhone.value.length}px`,this.state.confirmCodeInput.addEventListener("keyup",()=>this.sendConfirmCode(e.value))}};a(5);var f=class{constructor(e){this.router=e,this.api=new _,this.isReadyForSending=!0,this.state={countryId:"",countryInput:"",phoneNumber:"",phoneNumberInput:"",phoneNumberSendButton:"",countryArrow:""}}sendPhoneNumber(e){this.isReadyForSending&&(this.state.phoneNumberSendButton.innerText="PLEASE WAIT...",this.isReadyForSending=!1,setTimeout(()=>{this.isReadyForSending=!0,this.state.phoneNumberSendButton.innerText="NEXT"},3e3),this.api.sendCode(e).then(t=>{const a=t.phone_code_hash,o=t._;this.router.goToRoute("confirm.html",()=>{new v(this.router,e,a,o).render()})}).catch(e=>{this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_error")}))}onChangePhone(e){e.length>0?this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_active"):this.state.phoneNumberInput.className=u(this.state.phoneNumberInput.className,"login__input_active"),e.length>10?this.state.phoneNumberSendButton.className=h(this.state.phoneNumberSendButton.className,"show"):this.state.phoneNumberSendButton.className=u(this.state.phoneNumberSendButton.className,"show")}showCountriesList(){this.state.countryArrow.className=h(this.state.countryArrow.className,"active"),this.countryBox(this.state.countryId.value),document.getElementById("countriesList").className="countriesList show";const e=document.getElementById("closeZone");e.className="closeZone show",e.addEventListener("click",()=>this.hideCountriesList())}hideCountriesList(){this.state.countryArrow.className=u(this.state.countryArrow.className,"active"),document.getElementById("countriesList").className="countriesList",document.getElementById("closeZone").className="closeZone"}setCountry(e,t){this.state.countryId.value=e,this.state.phoneNumber.value=t,this.countryBox(e),this.onChangePhone(t),this.hideCountriesList()}getDefaultCountry(e){g.forEach(t=>{t.code===e&&this.setCountry(t.name,t.dial_code)})}countryBox(e){e.length>0?this.state.countryInput.className=h(this.state.countryInput.className,"login__input_active"):this.state.countryInput.className=u(this.state.countryInput.className,"login__input_active");const t=document.getElementById("countriesList");t.innerHTML="";let a=0;if(g.forEach(o=>{if(o.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1){const e=document.createElement("div");e.className="countryItem",e.innerHTML=`<div class="flag">${o.emoji?o.emoji:""}</div>\n           <div class='name'>${o.name}</div>\n           <div class='code'>${o.dial_code}</div>`,e.addEventListener("click",()=>this.setCountry(o.name,o.dial_code)),t.append(e),a++}}),0===a){const e=document.createElement("div");e.className="countryItem",e.innerHTML='<div class="name">Nothing found</div>',t.append(e)}}onFocusCountry(){this.state.countryInput.className=h(this.state.countryInput.className,"login__input_focused"),this.state.phoneNumberInput.className=u(this.state.phoneNumberInput.className,"login__input_focused"),this.showCountriesList()}onFocusPhone(){this.state.phoneNumberInput.className=h(this.state.phoneNumberInput.className,"login__input_focused"),this.state.countryInput.className=u(this.state.countryInput.className,"login__input_focused")}getCountryFromApi(){console.log("getCountryFromApi"),this.api.getCountry().then(e=>{console.log("response",e),this.getDefaultCountry(e.country)}).catch(e=>{console.log("error",e),setTimeout(()=>this.getCountryFromApi(),300)})}render(){this.state.countryId=document.getElementById("countryId"),this.state.countryInput=document.getElementById("countryInput"),this.state.phoneNumber=document.getElementById("phoneNumber"),this.state.phoneNumberInput=document.getElementById("phoneInput"),this.state.phoneNumberSendButton=document.getElementById("phoneNumberButton"),this.state.phoneNumber.addEventListener("keyup",()=>this.onChangePhone(phoneNumber.value)),this.state.countryId.addEventListener("keyup",()=>this.countryBox(this.state.countryId.value)),this.state.countryId.addEventListener("focusin",()=>this.onFocusCountry()),this.state.phoneNumber.addEventListener("focusin",()=>this.onFocusPhone()),this.state.phoneNumberSendButton.addEventListener("click",()=>this.sendPhoneNumber(phoneNumber.value)),this.state.countryArrow=document.getElementById("countryArrow"),this.getCountryFromApi()}};var C=class{constructor(e){this.router=e,this.api=telegramApi,this.userAuth=d.getObject("user_auth"),this.limit=20,this.currentChatId=0,this.params="",this.scrollMessageId="",this.offset=0,this.messagesWereLoaded=!0,this.chatsOffset=0,this.chatsWereLoaded=!1,this.lastReadId=0,this.currentChatType="",this.currentDate=new Date,this.months=["January","February","March","April","May","June","July","August","September","October","November","December"]}placeCaretAtEnd(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const a=window.getSelection();a.removeAllRanges(),a.addRange(t)}else if(void 0!==document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.collapse(!1),t.select()}}getTextForSendInput(e){let t=e.firstChild.nodeName,a=new RegExp("#text"===t?"<br":"</"+t,"i"),o=document.createElement("div");return o.innerHTML=e.innerHTML.replace(/<[^>]+>/g,(e,t)=>a.test(e)?"{ß®}":"").replace(/{ß®}$/,""),o.innerText.replace(/{ß®}/g,"\r\n")}sendMessage(){const e=this;this.currentChatId&&document.getElementById("sendInput").innerHTML&&this.api.sendMessage(this.currentChatId,this.getTextForSendInput(document.getElementById("sendInput"))).then((function(t){document.getElementById("sendInput").innerHTML="",e.onUpdate(t)}))}onKeyDownInput(e){if(console.log(e),"Enter"!==e.key||e.ctrlKey||(e.preventDefault(),this.sendMessage()),"Enter"===e.key&&e.ctrlKey){const t=document.getElementById("sendInput");e.preventDefault(),t.innerHTML=t.innerHTML+"<br/><br/>",this.placeCaretAtEnd(t)}}setChatInfo(e){const t=`avatar-${e.id}`,a=document.getElementById(t),o=a.cloneNode(),i=a.cloneNode();let n;o.innerHTML=a.innerHTML,i.innerHTML=a.innerHTML,n="user"===e.type?e.status?e.status:"service notifications":"chat"===e.type?e.members?`${e.members} members`:"chat":"channel",document.getElementById("chatInfo").innerHTML=`\n    <div class="im__info-container">\n      <div id="chatInfoItem" class="chat-panel__item">\n      <div class="chat-panel__item-title">\n        <div class="chat-panel__item-title-text">${e.title?e.title:""}</div>\n      </div>\n      ${n?`<div class="chat-panel__item-status">${n}</div>`:""}\n      </div>\n      ${"channel"===e.type||"chat"===e.type?`\n        ${e.mute?'\n        <div id="chatMute" class="icon">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M11,20 L13,20 C13.5522847,20 14,20.4477153 14,21 C14,21.5128358 13.6139598,21.9355072 13.1166211,21.9932723 L13,22 L11,22 C10.4477153,22 10,21.5522847 10,21 C10,20.4871642 10.3860402,20.0644928 10.8833789,20.0067277 L11,20 L13,20 L11,20 Z M12,2 C15.8659932,2 19,5.13400675 19,9 L19,14.6972244 L20.8320503,17.4452998 C21.2750868,18.1098545 20.7986954,19 20,19 L4,19 C3.20130462,19 2.72491322,18.1098545 3.16794971,17.4452998 L5,14.6972244 L5,9 C5,5.13400675 8.13400675,2 12,2 Z M12,4 C9.23857625,4 7,6.23857625 7,9 L7,14.6972244 C7,15.0920743 6.88312395,15.4780897 6.66410059,15.8066248 L5.86851709,17 L18.1314829,17 L17.3358994,15.8066248 C17.1168761,15.4780897 17,15.0920743 17,14.6972244 L17,9 C17,6.23857625 14.7614237,4 12,4 Z"/>\n            </g>\n          </svg>\n        </div>\n        ':'\n        <div id="chatMute" class="icon">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M11,20 L13,20 C13.5522847,20 14,20.4477153 14,21 C14,21.5128358 13.6139598,21.9355072 13.1166211,21.9932723 L13,22 L11,22 C10.4477153,22 10,21.5522847 10,21 C10,20.4871642 10.3860402,20.0644928 10.8833789,20.0067277 L11,20 L13,20 L11,20 Z M3.30352462,2.28241931 C3.6693482,1.92735525 4.23692991,1.908094 4.62462533,2.21893936 L4.71758069,2.30352462 L21.2175807,19.3035246 C21.6022334,19.6998335 21.5927842,20.332928 21.1964754,20.7175807 C20.8306518,21.0726447 20.2630701,21.091906 19.8753747,20.7810606 L19.7824193,20.6964754 L18.127874,18.9919007 L18,18.9999993 L4,18.9999993 C3.23933773,18.9999993 2.77101468,18.1926118 3.11084891,17.5416503 L3.16794971,17.4452998 L5,14.6972244 L5,8.9999993 C5,7.98873702 5.21529462,7.00715088 5.62359521,6.10821117 L3.28241931,3.69647538 C2.89776658,3.3001665 2.90721575,2.66707204 3.30352462,2.28241931 Z M7.00817933,8.71121787 L7,9 L7,14.6972244 C7,15.0356672 6.91413188,15.3676193 6.75167088,15.6624466 L6.66410059,15.8066248 L5.86851709,17 L16.1953186,17 L7.16961011,7.7028948 C7.08210009,8.02986218 7.02771758,8.36725335 7.00817933,8.71121787 Z M12,2 C15.7854517,2 18.8690987,5.00478338 18.995941,8.75935025 L19,9 L19,12 C19,12.5522847 18.5522847,13 18,13 C17.4871642,13 17.0644928,12.6139598 17.0067277,12.1166211 L17,12 L17,9 C17,6.23857625 14.7614237,4 12,4 C11.3902636,4 10.7970241,4.10872043 10.239851,4.31831953 C9.72293204,4.51277572 9.14624852,4.25136798 8.95179232,3.734449 C8.75733613,3.21753002 9.01874387,2.6408465 9.53566285,2.4463903 C10.3171048,2.15242503 11.1488212,2 12,2 Z"/>\n            </g>\n          </svg>\n        </div>'}`:""}\n      <div id="chatSearch" class="icon search-icon"></div>\n      <div id="chatMore" class="icon more-icon"></div>\n    </div>`;const s=document.getElementById("chatInfoItem"),d=document.getElementById("rightBar"),c=document.getElementById("infoPageAvatar"),m=document.getElementById("infoPageTitle"),r=document.getElementById("infoPageItems"),l=document.getElementById("infoPageStatus");s.prepend(o),s.addEventListener("click",()=>{d.className=h(d.className,"im__rightBar_open")}),document.getElementById("closeRightBar").addEventListener("click",()=>{d.className=u(d.className,"im__rightBar_open")}),setTimeout(()=>{c.innerHTML="",c.prepend(i),m.innerHTML=e.title,l.innerHTML=n,r.innerHTML=`\n      ${e.username?`<div class='info-page__item'>\n        <div class="info-page__item-icon"> \n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M12,1 C18.0751322,1 23,5.92486775 23,12 C23,15.2534621 21.3575416,17.4078375 19.0415827,17.5042247 C17.5448049,17.5665187 16.2418767,16.729824 15.5433162,15.3661459 C14.6550197,16.3039294 13.3958222,16.8888889 12,16.8888889 C9.29994122,16.8888889 7.11111111,14.7000588 7.11111111,12 C7.11111111,9.29994122 9.29994122,7.11111111 12,7.11111111 C13.1311057,7.11111111 14.1724943,7.49523561 15.000833,8.14015176 L15,8 C15,7.44771525 15.4477153,7 16,7 C16.5128358,7 16.9355072,7.38604019 16.9932723,7.88337887 L17,8 L17,13 C17,14.5880914 17.9057778,15.5497641 18.9584173,15.5059546 C20.0913022,15.4588053 21,14.2668872 21,12 C21,7.02943725 16.9705627,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C12.7993259,21 13.583948,20.8960375 14.3403366,20.6929627 C14.8737319,20.549757 15.4222254,20.8660682 15.5654311,21.3994635 C15.7086368,21.9328588 15.3923256,22.4813523 14.8589303,22.624558 C13.9337959,22.8729377 12.9748353,23 12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 Z M12,9.11111111 C10.4045107,9.11111111 9.11111111,10.4045107 9.11111111,12 C9.11111111,13.5954893 10.4045107,14.8888889 12,14.8888889 C13.5954893,14.8888889 14.8888889,13.5954893 14.8888889,12 C14.8888889,10.4045107 13.5954893,9.11111111 12,9.11111111 Z"/>\n            </g>\n          </svg>\n        </div>\n        <div class="info-page__item-content">\n          ${e.username}\n          <div class="info-page__item-label">Username</div>\n        </div>\n    </div>\n      `:""}\n      ${e.phone?`<div class='info-page__item'>\n        <div class="info-page__item-icon">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <polygon points="0 0 24 0 24 24 0 24"/>\n              <path fill="#707579" fill-rule="nonzero" d="M7.23584729,12.5662193 L9.59157842,9.95106331 C10.1552393,9.38932119 10.4467339,8.55220389 10.3497484,7.70703944 L10.091414,5.46219074 C9.9242391,4.0550699 8.7398983,3 7.3255142,3 L5.78463506,3 C4.20042472,3 2.90721409,4.32400855 3.00518508,5.90554894 C3.50830004,14.0123888 9.98998589,20.491257 18.0941879,20.9948033 C19.6759108,21.0927867 21.0001332,19.7995671 21.0001332,18.2153552 L21.0001332,16.6744677 C21.013787,15.2731573 19.9556245,14.0848636 18.5502962,13.917893 L16.2834192,13.6590644 C15.4388246,13.562143 14.601708,13.8536405 14.0021558,14.453196 L11.4339669,16.7640867 C9.87568608,15.7549411 8.52871768,14.4473269 7.47401517,12.9220367 L7.23584729,12.5662193 Z M13.2949234,17.779617 L15.3784355,15.9034093 C15.5842713,15.6995067 15.8165698,15.6186166 16.0559758,15.6460896 L18.3188767,15.9044538 C18.7112475,15.951083 19.003823,16.2796389 19.0000842,16.6646639 L19,18.2153552 C19,18.6635336 18.6307181,19.0242061 18.218031,18.9986413 C16.4722141,18.8901667 14.8122275,18.4649122 13.2949234,17.779617 Z M6.220439,10.7056813 C5.53504105,9.18831553 5.10972952,7.52810348 5.00135169,5.7817795 C4.97579551,5.36922745 5.33643432,5 5.78463506,5 L7.3255142,5 C7.72533936,5 8.0576092,5.29600256 8.10495475,5.6944964 L8.36282472,7.93536896 C8.39026139,8.17446174 8.30937042,8.40676528 8.14147101,8.5746656 L6.220439,10.7056813 Z"/>\n            </g>\n          </svg>\n        </div>\n        <div class="info-page__item-content">\n          +${e.phone}\n          <div class="info-page__item-label">Phone</div>\n        </div>\n        </div>\n      `:""}`},500)}setActiveChat(e){console.log("setActiveChat",e),document.querySelector(".chats__item_active")&&document.querySelector(".chats__item_active").classList.remove("chats__item_active"),document.getElementById("messages")&&(document.getElementById("messages").innerHTML=""),this.messagesWereLoaded=!0,document.getElementById(`chat-${e.id}`).classList.add("chats__item_active");const t={id:"user"===e.type?e.id:-e.id,type:e.type};this.currentChatId=t.id,this.currentChatType=e.type,this.currentDate=new Date,this.lastReadId=e.lastReadId,this.loadMessages(t,!0),e.allowSend?document.getElementById("sendMessage").style.display="flex":document.getElementById("sendMessage").style.display="none";const a=document.getElementById("rightBar");a.className=u(a.className,"im__rightBar_open")}uploadFile(){const e=document.getElementById("sendFile").files[0];this.api.sendFile({id:this.params.id,type:this.params.type,file:e,caption:""}).then(e=>{console.log("File uploaded")}).catch(e=>{console.error(e)})}scrollMessages(){if(0===document.getElementById("messagesScroll").scrollTop&&!this.messagesWereLoaded){const e={...this.params,skip:this.offset};this.loadMessages(e)}}createLineBreaks(e){e.indexOf("\n")>0&&(e[e.indexOf("\n")]="<br/>",this.createLineBreaks(e))}getMessageContent(e,t){if(console.log("getMessageContent",e),e.message){const a=e.message.split("");return this.createLineBreaks(a),e.entities&&e.entities.forEach(t=>{const o=t.offset,i=t.offset+t.length-1;switch(t._){case"messageEntityBold":a[o]="<b>"+a[o],a[i]=a[i]+"</b>";break;case"messageEntityItalic":a[o]="<i>"+a[o],a[i]=a[i]+"</i>";break;case"messageEntityTextUrl":a[o]=`<a href="${t.url}" target="_blank">`+a[o],a[i]=a[i]+"</a>";break;case"messageEntityMention":{const t=e.message.substring(o,i+1);a[o]=`<a href="?mention=${t}">`+a[o],a[i]=a[i]+"</a>";break}case"messageEntityHashtag":{const t=e.message.substring(o,i+1);a[o]=`<a href="?hash=${t}">`+a[o],a[i]=a[i]+"</a>";break}case"messageEntityUrl":{const t=e.message.substring(o,i+1);a[o]=`<a href="${t}" target="_blank">`+a[o],a[i]=a[i]+"</a>";break}}}),`<div class="messages__item-text">\n                <span class="messages__item-text-content">${a.join("")}</span>\n                <span class="messages__item-time">\n                  ${t.date}\n                  ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                </span>\n              </div>`}if(e.media)switch(e.media._){case"messageMediaPhoto":{this.api.downloadPhoto(e.media.photo,()=>{},!1,1).then(t=>{const a=new Blob(t.bytes,{type:"octet/stream"});document.getElementById(`photo-${e.id}`).style.backgroundImage=`url(${URL.createObjectURL(a)})`}).catch(e=>e);let a="";if(e.media.caption){const t=e.media.caption.split("");this.createLineBreaks(t),a=t.join("")}const o=e.media.photo.sizes[e.media.photo.sizes.length-2],i=`padding-top: ${o.h/o.w*100}%`;if(a)return`<div class="messages__item-text messages__item-text_photo-cap">\n                      <div id="photo-${e.id}" style="${i}" class="image-container"></div>\n                      ${a?`<span class="messages__item-text-content" style="max-width: ${o.w}px">${a}</span>`:""}\n                      <span class="messages__item-time">\n                        ${t.date}\n                        ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                      </span>\n                    </div>`;{const a=document.createElement("div");return a.className="messages__item-text messages__item-text_photo",a.addEventListener("click",()=>this.showPhoto(e.media.photo)),a.innerHTML=`<div id="photo-${e.id}" style="${i}" class="image-container"></div>\n            <span class="messages__item-time">\n              ${t.date}\n              ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read arrow-read_white"></div>':'<div class="arrow arrow_white"></div>'}`:""}\n            </span>`,a}}case"messageMediaDocument":if(e.media.document.attributes[1]&&"documentAttributeSticker"===e.media.document.attributes[1]._){let a;if(e.media.document.thumb.bytes)a=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,e.media.document.thumb.bytes))}`;else{const t=e.media.document.thumb.location;t._="inputFileLocation",this.api.invokeApi("upload.getFile",{location:t,offset:0,limit:1048576}).then(t=>{console.log("response",t);const a=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,t.bytes))}`;document.getElementById(`sticker-${e.id}`).style.backgroundImage=`url(${a})`})}return`\n                <div id="sticker-${e.id}" class="sticker-container" \n                style="background-image: url(${a}); width: ${e.media.document.thumb.w}px; height: ${e.media.document.thumb.h}px">\n                  <span class="messages__item-time">\n                    ${t.date}\n                    ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read arrow-read_white"></div>':'<div class="arrow arrow_white"></div>'}`:""}\n                  </span>\n                </div>`}if((e.media.document.attributes[0]||e.media.document.attributes[1]||e.media.document.attributes[2])&&("documentAttributeFilename"===e.media.document.attributes[0]._||"documentAttributeFilename"===e.media.document.attributes[1]._||"documentAttributeFilename"===e.media.document.attributes[2]._)){const a=e.media.document.attributes[0].file_name||e.media.document.attributes[1].file_name||e.media.document.attributes[2].file_name;let o={size:e.media.document.size,type:"B"};o.size>10240&&(o.size=(o.size/1024).toFixed(2),o.type="Kb"),o.size>1024&&(o.size=(o.size/1024).toFixed(2),o.type="Mb"),o.size>1024&&(o.size=(o.size/1024).toFixed(2),o.type="Gb");const i=document.createElement("div");return i.className="messages__item-text",i.addEventListener("click",()=>this.downloadFile(e.media.document)),i.innerHTML=`\n                <span class="messages__item-text-content">\n                  <div id="file-${e.media.document.id}" class="file">\n                    <div class="file__icon"></div>\n                    <div>\n                      <div class="file__title">${a}</div> \n                      <div class="file__size">${o.size}${o.type}</div> \n                    </div>\n                  </div>\n                </span>\n                <span class="messages__item-time" style="margin-top: -18px">\n                  ${t.date}\n                  ${t.is_outgoing?`${this.lastReadId>=e.id?'<div class="arrow-read"></div>':'<div class="arrow"></div>'}`:""}\n                </span>`,i}}}showPhoto(e){console.log("showPhoto",e)}downloadFile(e){this.api.downloadDocument(e,()=>{},!0).then(()=>{document.getElementById(`file-${e.id}`).className="file file_downloaded"})}addMessage(e,t=!1,a=!1){const o=new Object({id:e.id,timestamp:e.date,date:r(e.date),is_outgoing:e.from_id===this.userAuth.id}),i=this.getMessageContent(e,o),n=document.createElement("div");if(n.className=`messages__item ${e.arrow?"messages__item_arrow":""} ${"channel"===this.currentChatType?"messages__item_channel":""}`,n.id=`message-${o.id}`,o.is_outgoing&&(n.className=`messages__item messages__item_out ${e.arrow?"messages__item_arrow":""} ${"channel"===this.currentChatType?"messages__item_channel":""}`),n.innerHTML=`\n    <div class="messages__item-avatar"></div>\n    ${"string"==typeof i?i:""}`,"object"==typeof i&&n.prepend(i),t){document.getElementById("messages").append(n);const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}else{const t=this.getMessageDate(this.currentDate,e.date);if(t){const e=document.createElement("div");e.className="messages__date",e.innerHTML=`<span>${t}</span>`,document.getElementById("messages").prepend(e)}if(document.getElementById("messages").prepend(n),a){const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}else{document.getElementById("messagesScroll").scrollTop=document.getElementById(`message-${this.scrollMessageId}`).offsetTop}}}getMessageDate(e,t){const a=new Date(e),o=new Date(1e3*t),i=new Date,n=`${m(a.getDate())}.${m(a.getMonth()+1)}.${a.getFullYear()}`,s=`${m(o.getDate())}.${m(o.getMonth()+1)}.${o.getFullYear()}`,d=`${m(i.getDate())}.${m(i.getMonth()+1)}.${i.getFullYear()}`;if(n!==s){this.currentDate=o;const e=d.split("."),t=n.split(".");return e[2]===t[2]&&e[1]===t[1]&&e[0]===t[0]?document.getElementById("messages").children.length?"Today":"":e[2]===t[2]&&e[1]===t[1]&&e[0]-t[0]==1?"Yesterday":`${t[0]} ${this.months[t[1]-1]}`}}loadMessages(e,t=!1){t&&(this.offset=0),e.take=this.limit,this.params=e,this.api.getHistory(e).then(e=>{const{messages:a}=e;console.log("getMEssage",a),a.length<this.limit&&(this.messagesWereLoaded=!0),a[0].id&&(this.scrollMessageId=a[0].id);let o=0;if(a.forEach(e=>{o===e.from_id?e.arrow=!1:(e.arrow=!0,o=e.from_id),this.addMessage(e,!1,t)}),t){this.messagesWereLoaded=!1;const e=document.getElementById("messagesScroll");e.scrollTop=e.scrollHeight}this.offset=this.offset+this.limit})}getChats(e,t=0){t||this.setChatLoader(!0),this.api.getDialogs(e,this.limit).then(e=>{const{result:a,offset:o}=e;console.log("getChats",e);const{dialogs:i,messages:n,chats:s,users:d}=a;i.length<this.limit&&(this.chatsWereLoaded=!0),this.chatsOffset=o,i.forEach(e=>{t?(t<0&&(t=-t),e.peer.channel_id!==t&&e.peer.user_id!==t&&e.peer.chat_id!==t||this.configureChat(e,n,s,d,!0)):this.configureChat(e,n,s,d)}),this.setChatLoader(!1)}).catch(e=>{this.setChatLoader(!1),console.error(e)})}setChatLoader(e){const t=document.getElementById("chatLoader");t.style.display=e?"flex":"none"}getStatus(e){switch(e._){case"userStatusOffline":return`last seen ${l(e.was_online)}`;case"userStatusRecently":return"last seen recently";case"userStatusOnline":return"<span>online</span>"}}configureChat(e,t,a,o,i=!1){const n=e.read_outbox_max_id>=e.read_inbox_max_id?e.read_outbox_max_id:e.read_inbox_max_id,s=new Object({arrow:"",arrowClass:n>=e.top_message?"arrow-read":"arrow",allowSend:!1,lastReadId:n,id:"",access_hash:"",avatar:"",title:"",message:"",mute:!!e.notify_settings.mute_until,peer:e.peer,pinned:!!e.pFlags.pinned,flags:e.flags,date:"",timestamp:"",type:"",myChat:!1,unread_count:e.unread_count,phone:"",status:"",members:"",username:""});if(t.forEach(t=>{e.top_message===t.id&&(s.arrow=t.from_id===this.userAuth.id,s.message=t,s.timestamp=t.date,s.date=l(t.date))}),"peerUser"===e.peer._?o.forEach(t=>{e.peer.user_id===t.id&&(s.id=t.id,s.title=`${t.first_name?t.first_name:""} ${t.last_name?t.last_name:""}`,s.access_hash=t.access_hash?t.access_hash:"",s.avatar=t.photo?t.photo.photo_small:"",s.type="user",s.phone=t.phone?t.phone:"",s.username=t.username?t.username:"",s.status=t.status?this.getStatus(t.status):"",s.allowSend=!0,t.pFlags.self&&(s.myChat=!0,s.title="Saved Messages"),t.pFlags.deleted&&(s.title="Deleted Account"))}):a.forEach(t=>{e.peer.channel_id!==t.id&&e.peer.chat_id!==t.id||(s.id=t.id,s.title=t.title,s.access_hash=t.access_hash?t.access_hash:"",s.avatar=t.photo?t.photo.photo_small:"",s.type=e.peer.channel_id?"channel":"chat",s.allowSend=!!e.peer.chat_id,s.members=t.participants_count?t.participants_count:"",s.username=t.username?t.username:"",t.pFlags.deactivated&&(s.id=0),(t.pFlags.creator||t.pFlags.democracy)&&(s.allowSend=!0))}),document.getElementById(`avatar-${s.id}`)&&(s.avatarNode=document.getElementById(`avatar-${s.id}`).cloneNode(),s.avatarNode.innerHTML=document.getElementById(`avatar-${s.id}`).innerHTML),s.id&&(this.addChat(s,i),!s.myChat&&(!i||document.getElementById(`avatar-${s.id}`))))if(s.avatar){const e=s.avatar;e._="inputFileLocation",this.api.invokeApi("upload.getFile",{location:e,offset:0,limit:1048576},{dcID:2,createNetworker:!0}).then(e=>{const t=`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null,e.bytes))}`;document.getElementById(`avatar-${s.id}`).style.backgroundImage=`url(${t})`}).catch(e=>{console.error(e),document.getElementById(`avatar-${s.id}`).innerHTML=this.getDefaultAvatarText(s.title),document.getElementById(`avatar-${s.id}`).style.backgroundColor=this.getRandomColor()})}else document.getElementById(`avatar-${s.id}`).innerHTML=this.getDefaultAvatarText(s.title),document.getElementById(`avatar-${s.id}`).style.backgroundColor=this.getRandomColor()}scrollChats(){const e=document.getElementById("chatsScroll");e.scrollHeight-e.offsetHeight===e.scrollTop&&(this.chatsWereLoaded||this.getChats(this.chatsOffset))}getMessage(e){if(e.message)return e.message;if(e.media){let t;switch(e.media._){case"messageMediaDocument":e.media.document.attributes?e.media.document.attributes.forEach(e=>{if(!t)switch(e._){case"documentAttributeSticker":t=e.alt+" Sticker";break;case"documentAttributeFilename":t=e.file_name;break;case"documentAttributeAudio":t=e.pFlags.voice?"Voice Message":"Audio"}}):t="Document";break;case"messageMediaPhoto":t=e.media.caption?`🖼️${e.media.caption}`:"Photo";break;case"messageMediaGeo":t="Location"}return t}if("messageService"===e._){let t;switch(e.action._){case"messageActionChatAddUser":t="join the group";break;case"messageActionCustomAction":t=e.action.message;break;case"messageActionChatMigrateTo":t="messageActionChatMigrateTo";break;case"messageActionChatDeleteUser":t="messageActionChatDeleteUser";break;case"messageActionChatEditTitle":t=`channel renamed to "${e.action.title}"`}return t}}getDefaultAvatarText(e){if(e){const t=e.split(" ");return 1===t.length?t[0].charAt(0)+t[0].charAt(1):t[0].charAt(0)+t[1].charAt(0)}return""}getRandomColor(){return["#28a745","#d73a49","#6f42c1","#0366d6","#f66a0a"][Math.floor(5*Math.random())]}addChat(e,t=!1){const a=`avatar-${e.id}`,o=document.createElement("div");o.className="chats__item",o.id=`chat-${e.id}`,o.innerHTML=`\n    ${e.avatarNode?"":`<div id='${a}' class="chats__item-avatar${e.myChat?" chats__item-avatar_saved":""}"></div>`}\n    <div class="chats__item-title">\n        <div class="chats__item-title-text" title="${e.title}">${e.title?e.title:""}</div>\n        ${e.mute?'<div class="chats__item-mute-icon"></div>':""}\n    </div>\n    <div class="chats__item-last">${e.arrow?"<span>You:</span> ":""}${this.getMessage(e.message)}</div>\n    <div class="chats__item-time">\n        ${e.arrow?`<div class="${e.arrowClass}"></div>`:""}\n        ${e.date}\n    </div>\n    ${e.pinned&&!e.unread_count?'<div class="chats__item-pinned"></div>':""}\n    ${e.unread_count?`<div class="chats__item-unread ${e.mute?"chats__item-unread_mute":""}">${e.unread_count}</div>`:""}`,o.addEventListener("click",()=>this.setActiveChat(e)),o.addEventListener("click",()=>this.setChatInfo(e)),e.avatarNode&&o.prepend(e.avatarNode),t?e.pinned?document.getElementById(`chat-${e.id}`)?document.getElementById(`chat-${e.id}`).innerHTML=o.innerHTML:document.getElementById("pinnedChats").prepend(o):(this.deleteChat(e.id),document.getElementById("chats").prepend(o)):e.pinned?document.getElementById("pinnedChats").append(o):document.getElementById("chats").append(o)}deleteChat(e){document.getElementById(`chat-${e}`)&&document.getElementById(`chat-${e}`).remove()}onUpdate(e){console.log("onUpdate",e,e._);const t=this;if("updates"===e._){const{updates:a}=e;a.forEach(e=>{e&&t.checkUpdate(e)})}else t.checkUpdate(e)}checkUpdate(e){switch(console.log("checkUpdate",e),e._){case"updateNewMessage":{const{from_id:t,to_id:a}=e.message;if(a.chat_id)this.getChats(0,a.chat_id),-this.currentChatId===a.chat_id&&this.addMessage(e.message,!0);else{const o=t===this.userAuth.id?a.user_id:t;this.getChats(0,o),this.currentChatId===t&&this.addMessage(e.message,!0)}break}case"updateNewChannelMessage":{const{to_id:t}=e.message;this.getChats(0,t.channel_id),-this.currentChatId===t.channel_id&&this.addMessage(e.message,!0);break}case"updateShortMessage":this.getChats(0,e.user_id),this.currentChatId===e.user_id&&this.addMessage(e,!0);break;case"updateShortSentMessage":this.api.getMessages(e.id).then(e=>{const{messages:t}=e,a=t[0];"peerUser"===a.to_id._?this.getChats(0,a.to_id.user_id):"peerChat"===a.to_id._?this.getChats(0,a.to_id.chat_id):this.getChats(0,a.to_id.channel_id),this.addMessage(a,!0)}).catch(e=>{console.log(e)});break;case"updateShortChatMessage":this.getChats(0,e.chat_id),-this.currentChatId===e.chat_id&&this.addMessage(e,!0)}}render(){const e=this;this.setChatLoader(!0),this.userAuth?(this.getChats(),this.api.subscribe(this.userAuth.id,e=>this.onUpdate(e))):this.api.invokeApi("users.getFullUser",{id:{_:"inputUserSelf"}}).then((function(t){d.setObject("user_auth",t.user),e.userAuth=t.user,e.getChats(),e.api.subscribe(t.user.id,t=>e.onUpdate(t))}));const t=document.getElementById("sendInput");document.getElementById("chatsScroll").onscroll=()=>this.scrollChats(),document.getElementById("messagesScroll").onscroll=()=>this.scrollMessages(),document.getElementById("sendButton").addEventListener("click",()=>this.sendMessage()),t.addEventListener("keydown",e=>this.onKeyDownInput(e));const a=document.getElementById("chatsPanelDropDown");document.getElementById("chatsPanelMenu").addEventListener("click",()=>{"none"===a.style.display||""===a.style.display?a.style.display="flex":a.style.display="none"}),document.getElementById("logOut").addEventListener("click",()=>{this.api.logOut().then(e=>{d.remove("user_auth"),this.router.goToRoute("login.html",()=>{new f(this.router).render()})})});const o=document.getElementById("smiles");document.getElementById("sendFile").addEventListener("change",()=>this.uploadFile()),document.getElementById("smileButton").addEventListener("mouseover",()=>{o.style.visibility="visible"}),document.getElementById("sendMessage").addEventListener("click",()=>{o.style.visibility="hidden"});const i=document.getElementsByClassName("smile-item");Array.from(i).forEach((function(e){e.addEventListener("click",e=>{t.innerHTML=t.innerHTML+e.toElement.innerHTML,o.style.visibility="hidden"})}))}};class j{constructor(){this.router={},this.api=telegramApi,this.isAuth=d.getObject("user_auth")}init(){this.api.setConfig(c),this.router=new i([new s("login","login.html"),new s("confirm","confirm.html"),new s("registration","registration.html"),new s("password","password.html"),new s("im","im.html")]),this.isAuth?this.router.goToRoute("im.html",()=>{new C(this.router).render()}):this.router.goToRoute("login.html",()=>{new f(this.router).render()})}}(new j).init()}]);